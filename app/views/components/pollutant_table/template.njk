{% from "govuk/components/table/macro.njk" import govukTable %}

{% set rows = [] %}
{% for band in params.bands %}
  {% set row = [
    { html: '<strong class="daqi-tag daqi-tag--' + loop.index + '">' + band.label + '</strong>' }, 
    { text: loop.index|string }, 
    { html: band.value }
  ] %}
  {% set _ = rows.push(row) %}
{% endfor %}

{{ govukTable({
    classes: "govuk-!-margin-bottom-8",
    caption: params.caption | safe,
    captionClasses: "govuk-table__caption--m",
    firstCellIsHeader: false,
    head: [
      { text: "Band" },
      { text: "Index" },
      { html: "Range in micrograms (Î¼g/&#13221;)" }
    ],
    rows: rows
  }) }}